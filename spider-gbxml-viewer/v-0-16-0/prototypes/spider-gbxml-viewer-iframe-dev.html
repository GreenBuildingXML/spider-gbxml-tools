<!doctype html>
<html lang = "en" >
<head>

<meta charset = "utf-8">
<meta name = "copyright" content ="PushMe-PullYou authors" >
<meta name = "date" content = "2019-06-12" >
<meta name = "description" content = "Basic TooToo HTML template" >
<meta name = "keywords" content = "Three.js,WebGL,JavaScript,GitHub,FOSS" >
<meta name = "version" content = "0.16.0-0dev" >
<meta name = "viewport" content = "width=device-width, initial-scale=1" >

<title>Spider gbXML Viewer</title>

<link rel = "canonical" href = "www.ladybug.tools/spider-gbxml-tools/spider-gbxml-viewer/" />
<link rel = "license" href = "https://creativecommons.org/licenses/by/4.0/" >


<style>

body { font: 11pt monospace; height:100%; margin: 0; overflow: hidden; }

#divContents { height:100vh; width: 100%; }


#navPopup { background-color: #eee; border: 1px solid #aaa; border-radius: 8px;
	max-height: 90%; max-width: 45%; opacity: 0.95;  overflow: auto;
	padding: 0 1rem 1rem 1rem; position: fixed;
	resize: both; left: 50%;  top: 8%; z-index: 10;
	box-shadow: 10px 10px 25px rgba(0,0,0,0.3), 6px 6px 6px rgba(0,0,0,0.5); }


</style>
</head>

<body>

<script src = "https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.5/jszip.min.js" ></script>
<script src = "https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.0/showdown.min.js" ></script>

<!-- Three.js -->
<script src = "https://cdn.jsdelivr.net/gh/mrdoob/three.js@r105/build/three.min.js" ></script>
<script src = "https://cdn.jsdelivr.net/gh/mrdoob/three.js@r105/examples/js/controls/OrbitControls.js" ></script>


<!-- tootoo generally -->
<script src = "https://pushme-pullyou.github.io/tootoo14/js-14-1/mnu-menu/mnu-menu.js" ></script>
<script src = "https://pushme-pullyou.github.io/tootoo14/js-14-1/gat-github-access-token/gat-github-access-token.js" ></script>

<!-- File menu panel -->
<script src = "https://pushme-pullyou.github.io/tootoo14/js-14-1/fga-files-github-api/fga-files-github-api.js" ></script>
<script src = "fob-file-open-basic.js" ></script>

<!-- Edit Menu -->

<!-- Settings menu -->
<script src = "https://pushme-pullyou.github.io/tootoo14/js-14-1/thm-theme/thm-theme.js" ></script>
<script src = "https://pushme-pullyou.github.io/tootoo14/js-14-1/tmp-template/tmp-template.js" ></script>

<script src = "../js/thr-threejs.js" ></script>
<script src = "../js/thru-threejs-utilities.js" ></script>
<script src = "pop-up-text-parser.js" ></script>

<!-- File menu panel -->
<script src = "../js/gff-github-folder-files/gff-github-folder-files.js" ></script>

<script src = "gbx-gbxml-text-parser.js" ></script>
<script src = "gbxu-gbxml-utilities.js" ></script>


<!-- Edit Menu -->

<!-- View menu -->
<script src = "../js/vst-view-surface-types.js" ></script>
<script src = "../js/vbsu-view-by-surfaces.js" ></script>
<script src = "../js/vbs-view-by-storeys.js" ></script>
<script src = "../js/vbsp-view-by-spaces.js" ></script>
<script src = "../js/vbz-view-by-zones.js" ></script>

<!-- Settings menu -->
<script src = "../js/set-settings.js" ></script>
<script src = "../js/cut-section-cut.js"></script>

		<div id=divContents ></div>


	<nav id="navPopup"  >

		<section class="secContent" >

			<div id="MNUdivPopup" >

			<div id="MNUdivPopupData" ></div>

			<div id="MNUdivMessage" ></div>

			</div>

		</section>

	</nav>



<script>


//THM.cssBasic = "js-gbxml/style15-6.css";

//FOB.urlDefaultFile = ""; //"README.md";
FOB.urlDefaultFile = "https://www.ladybug.tools/spider/gbxml-sample-files/bristol-clifton-downs-broken.xml";
//FOB.urlDefaultFile = "https://cdn.jsdelivr.net/gh/ladybug-tools/spider@master/gbxml-sample-files/zip/coventry-university-of-warwick-small.zip";
//FOB.urlDefaultFile = "https://cdn.jsdelivr.net/gh/ladybug-tools/spider@master/gbxml-sample-files/zip/pittsburg-airport.zip";

// For main menu header

init();
THR.animate();

function init() {

	if ( /(iPad|iPhone|iPod)/g.test( navigator.userAgent ) ) { /* I hate having to add this */

		divContents.style.width = getComputedStyle( divContents ).width;
		divContents.style.height = getComputedStyle( divContents ).height;
		divContents.setAttribute( 'scrolling', 'no' );

	}

	THR.getThreejs();

	THRU.setHelpers();

	THRU.addSomeLights2();

	POP.getMenuHtmlPopUp();

	GBX.getDivMenuGbx();




	if ( !parent.location.hash ) { parent.location.hash=FOB.urlDefaultFile; } else { FOB.onHashChange(); }

	location.hash=FOB.urlDefaultFile;

	document.body.addEventListener( 'FOBonXmlFileLoad', GBX.init, false ); // hash changed, file loaded so let's go

	document.body.addEventListener( 'FOBonZipFileLoad', GBX.init, false );

	document.body.addEventListener( 'onZipFileParse', GBX.init, false );

	//mesh = THRU.getGeometry();
	//THR.scene.add( mesh );

	//aViewSource.style.display = "block";
	//aViewSource.href = MNU.urlSourceCode;

	//MNU.setPopupShowHide( butTitle, MNU.helpFile );

}



function toggleNavPanel() {

	expandButton.classList.toggle( 'collapsed' );
	navPanel.classList.toggle( 'collapsed' );
	main.classList.toggle( 'collapsed' );

	THR.onWindowResize();

}

</script>
</body>
</html>